!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var r=e.ajax.bind(e);e.ajax=function(n,t){"object"==typeof n&&(t=n,n=void 0),t=t||{};var o;o=t.xhr?t.xhr():e.ajaxSettings.xhr(),t.xhr=function(){return o};var s=t.chunking||e.ajaxSettings.chunking;o.upload.onprogress=null;var i=r(n,t).promise();return i.progress=function(e){var r=0;return o.addEventListener("progress",function(n){var t=[n],o="";3==this.readyState&&s&&(o=this.responseText.substr(r),r=this.responseText.length,t.push(o)),e.apply(this,t)},!1),this},i.uploadProgress=function(e){return o.upload&&o.upload.addEventListener("progress",function(r){e.apply(this,[r])},!1),this},i}});