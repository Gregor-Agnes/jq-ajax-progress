!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=e.ajax;e.ajax=function(r,n){"object"==typeof r&&(n=r,r=void 0),n=n||{};var s;n.xhr?s=n.xhr:(s=e.ajaxSettings.xhr(),n.xhr=function(){return s});var o=n.chunking||e.ajaxSettings.chunking;s.upload.onprogress=null;var i=t(r,n).promise();return i.progress=function(e){var t=0;return s.addEventListener("progress",function(r){var n=[r],s="";4!=this.readyState&&4!=this.readyState||!o||(s=this.responseText.substr(t),t=this.responseText.length,n.push(s)),e.apply(this,n)},!1),this},i.uploadProgress=function(e){return s.upload&&s.upload.addEventListener("progress",function(t){e.apply(this,[t])},!1),this},i}});